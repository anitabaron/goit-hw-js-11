{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '44946151-dc02d84f49eea13b7d5c48659';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst searchBtn = document.querySelector('.search-btn');\nconst searchForm = document.querySelector(`.search-form`);\nconst inputField = document.querySelector(`.input-field`);\nconst resultsGalleryContainer = document.querySelector(`.gallery-result`);\nconst imageContainer = document.querySelector('.gallery-result > img');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const request = inputField.value;\n  fetchImages(request);\n});\n\nfunction fetchImages(request) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${request}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(url)\n    .then(res => res.json())\n    .then(json => console.log(json))\n    .then(data => displayImages(data.hits))\n    .catch(error => {\n      console.error(error);\n    });\n}\n\nconst Loader = {\n  enable: () => document.querySelector('.spinner').classList.remove('disabled'),\n  disable: () => document.querySelector('.spinner').classList.add('disabled'),\n};\n\nconst message =\n  'Sorry, there are no images matching your search query. Please try again!';\n\nfunction displayImages(images) {\n  resultsGalleryContainer.innerHTML = '';\n  if (images.length === 0) {\n    iziToast.warning({\n      message,\n      backgroundColor: '#ef4040',\n      messageColor: `#fff`,\n    });\n    return;\n  }\n  images.forEach(image => {\n    const imgElement = document.createElement('img');\n    imgElement.src = image.webformatURL;\n    imgElement.alt = image.tags;\n    resultsGalleryContainer.appendChild(imgElement);\n  });\n}\n\nconst loadText = document.querySelector('.loading-text');\n\n//najpierw dodaÄ‡ elementy do DOM\n\nconst details = {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  className: 'simpleLightboxGallery',\n  doubleTapZoom: 2,\n  scrollZoom: true,\n  overlay: true,\n};\n\nconst lightBox = new SimpleLightbox('.gallery-result img', details);\n\nconst options = {\n  method: 'GET',\n};\n\n// fetch('${ url }${ APIkey }', options)\n//   .then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   })\n//   .then(data => {})\n//   .catch(error => {});\n\nconst isSuccess = true;\n// Create promise\nconst promise = new Promise((resolve, reject) => {\n  console.log('Loadning images');\n  loadText.classList.remove('disabled');\n  setTimeout(() => {\n    if (isSuccess) {\n      resolve('Success! Value passed to resolve function');\n    } else {\n      reject('Error! Error passed to reject function');\n    }\n  }, 4000);\n});\n\n// Registering promise callbacks\npromise\n  .then(value => {\n    console.log(value); // \"Success! Value passed to resolve function\"\n  })\n  .catch(error => {\n    console.log(error); // \"Error! Error passed to reject function\"\n  });\n"],"names":["API_KEY","BASE_URL","searchForm","inputField","resultsGalleryContainer","event","request","fetchImages","url","res","json","data","displayImages","error","message","images","iziToast","image","imgElement","loadText","details","SimpleLightbox","promise","resolve","reject","value"],"mappings":"wvBAKA,MAAMA,EAAU,qCACVC,EAAW,2BACC,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAA0B,SAAS,cAAc,iBAAiB,EACjD,SAAS,cAAc,uBAAuB,EAErEF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAUH,EAAW,MAC3BI,EAAYD,CAAO,CACrB,CAAC,EAED,SAASC,EAAYD,EAAS,CAC5B,MAAME,EAAM,GAAGP,CAAQ,QAAQD,CAAO,MAAMM,CAAO,2DAEnD,MAAME,CAAG,EACN,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,QAAQ,IAAIA,CAAI,CAAC,EAC9B,KAAKC,GAAQC,EAAcD,EAAK,IAAI,CAAC,EACrC,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,CACL,CAOA,MAAMC,EACJ,2EAEF,SAASF,EAAcG,EAAQ,CAE7B,GADAX,EAAwB,UAAY,GAChCW,EAAO,SAAW,EAAG,CACvBC,EAAS,QAAQ,CACf,QAAAF,EACA,gBAAiB,UACjB,aAAc,MACpB,CAAK,EACD,MACD,CACDC,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMD,EAAM,aACvBC,EAAW,IAAMD,EAAM,KACvBb,EAAwB,YAAYc,CAAU,CAClD,CAAG,CACH,CAEA,MAAMC,EAAW,SAAS,cAAc,eAAe,EAIjDC,EAAU,CACd,SAAU,GACV,aAAc,MACd,aAAc,IACd,MAAO,GACP,UAAW,wBACX,cAAe,EACf,WAAY,GACZ,QAAS,EACX,EAEiB,IAAIC,EAAe,sBAAuBD,CAAO,EAkBlE,MAAME,EAAU,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/C,QAAQ,IAAI,iBAAiB,EAC7BL,EAAS,UAAU,OAAO,UAAU,EACpC,WAAW,IAAM,CAEbI,EAAQ,2CAA2C,CAItD,EAAE,GAAI,CACT,CAAC,EAGDD,EACG,KAAKG,GAAS,CACb,QAAQ,IAAIA,CAAK,CACrB,CAAG,EACA,MAAMZ,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAG"}