{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '44946151-dc02d84f49eea13b7d5c48659';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst searchBtn = document.querySelector('.search-btn');\nconst searchForm = document.querySelector(`.search-form`);\nconst inputField = document.querySelector(`.input-field`);\nconst resultsGalleryContainer = document.querySelector(`.gallery-result`);\nconst resultsGalleryList = document.querySelector(`.gallery-result-list`);\nconst loadText = document.querySelector('.loading-text');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const request = inputField.value;\n  fetchImages(request);\n});\n\nfunction fetchImages(request) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    request\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  Loader.enable();\n  fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`Error! status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then(data => {\n      Loader.disable();\n      if (data.hits) {\n        displayImages(data.hits);\n      } else {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#ef4040',\n          messageColor: '#fff',\n        });\n      }\n    })\n    .catch(error => {\n      Loader.disable();\n      console.error(error);\n      iziToast.warning({\n        title: 'Error',\n        message: 'An error occurred while fetching images',\n      });\n    });\n}\n\nconst message =\n  'Sorry, there are no images matching your search query. Please try again!';\n\nfunction displayImages(images) {\n  resultsGalleryList.innerHTML = '';\n  if (images.length === 0) {\n    iziToast.warning({\n      message: message,\n      backgroundColor: '#ef4040',\n      messageColor: `#fff`,\n    });\n    return;\n  }\n  const imagesMarkup = images.map(makeImgItem).join('');\n  resultsGalleryList.insertAdjacentHTML('beforeend', imagesMarkup);\n}\n\nfunction makeImgItem({\n  webformatURL,\n  tags,\n  downloads,\n  likes,\n  comments,\n  views,\n}) {\n  return `<li class=\"list-container\">\n    <div class=\"image-container\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" />\n      <div class=\"descr-element\">\n        <p>\"views ${views} dowmloads ${downloads} likes ${likes} comments ${comments}\"</p>\n      </div>\n    </div>\n  </li>`;\n}\n\n// galleryList.addEventListener('click', onImgClick);\n\nconst details = {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  className: 'simpleLightboxGallery',\n  doubleTapZoom: 2,\n  scrollZoom: true,\n  overlay: true,\n};\n\nconst lightBox = new SimpleLightbox(\n  '.gallery-result-list ul li div img',\n  details\n);\n\nconst Loader = {\n  enable: () => document.querySelector('.spinner').classList.remove('disabled'),\n  disable: () => document.querySelector('.spinner').classList.add('disabled'),\n};\n\nconst options = {\n  method: 'GET',\n};\n"],"names":["API_KEY","BASE_URL","searchForm","inputField","resultsGalleryList","event","request","fetchImages","url","Loader","res","data","displayImages","iziToast","error","message","images","imagesMarkup","makeImgItem","webformatURL","tags","downloads","likes","comments","views","details","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAU,qCACVC,EAAW,2BACC,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,cAAc,EACxB,SAAS,cAAc,iBAAiB,EACxE,MAAMC,EAAqB,SAAS,cAAc,sBAAsB,EACvD,SAAS,cAAc,eAAe,EAEvDF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMC,EAAUH,EAAW,MAC3BI,EAAYD,CAAO,CACrB,CAAC,EAED,SAASC,EAAYD,EAAS,CAC5B,MAAME,EAAM,GAAGP,CAAQ,QAAQD,CAAO,MAAM,mBAC1CM,CACD,CAAA,2DAEDG,EAAO,OAAM,EACb,MAAMD,CAAG,EACN,KAAKE,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,kBAAkBA,EAAI,MAAM,EAAE,EAEhD,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACZF,EAAO,QAAO,EACVE,EAAK,KACPC,EAAcD,EAAK,IAAI,EAEvBE,EAAS,QAAQ,CACf,QACE,2EACF,gBAAiB,UACjB,aAAc,MACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdL,EAAO,QAAO,EACd,QAAQ,MAAMK,CAAK,EACnBD,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,yCACjB,CAAO,CACP,CAAK,CACL,CAEA,MAAME,EACJ,2EAEF,SAASH,EAAcI,EAAQ,CAE7B,GADAZ,EAAmB,UAAY,GAC3BY,EAAO,SAAW,EAAG,CACvBH,EAAS,QAAQ,CACf,QAASE,EACT,gBAAiB,UACjB,aAAc,MACpB,CAAK,EACD,MACD,CACD,MAAME,EAAeD,EAAO,IAAIE,CAAW,EAAE,KAAK,EAAE,EACpDd,EAAmB,mBAAmB,YAAaa,CAAY,CACjE,CAEA,SAASC,EAAY,CACnB,aAAAC,EACA,KAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,kBAESL,CAAY,UAAUC,CAAI;AAAA;AAAA,oBAExBI,CAAK,cAAcH,CAAS,UAAUC,CAAK,aAAaC,CAAQ;AAAA;AAAA;AAAA,QAIpF,CAIA,MAAME,EAAU,CACd,SAAU,GACV,aAAc,MACd,aAAc,IACd,MAAO,GACP,UAAW,wBACX,cAAe,EACf,WAAY,GACZ,QAAS,EACX,EAEiB,IAAIC,EACnB,qCACAD,CACF,EAEA,MAAMhB,EAAS,CACb,OAAQ,IAAM,SAAS,cAAc,UAAU,EAAE,UAAU,OAAO,UAAU,EAC5E,QAAS,IAAM,SAAS,cAAc,UAAU,EAAE,UAAU,IAAI,UAAU,CAC5E"}